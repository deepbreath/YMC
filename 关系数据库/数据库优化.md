数据库的优化有如下几个方面:

### SQL 语句优化  
这里的比喻可以理解成跟厨房仓库管理人员讲话不要啰嗦,减少不必要的废话.  
在跟库管打交道前,我们可以先打个草稿,使用 EXPLAIN 分析工具,看一看说的话是否清晰简洁明了. 
这里引出来使用 EXPLAIN 工具进行分析.  
此处里面的具体参数分析,目前按住不表,可以单独罗列以篇文章慢慢道来.  

中间主要几个重要的字段:
select_type:查询类型,简单查询,联合查询,子查询  
key:使用索引  
rows:扫描行数  

引用文章:
[EXPLAIN 性能优化](https://segmentfault.com/a/1190000008131735)

#### 访问数据优化  
减少请求的数据量:  
只返回必要的列:不要查询不需要的列,尽量避免 SELECT * 查询.  
只返回必要的行:使用 WHERE 条件进行过滤, 有时也需要时候 LIMIT 语句限制返回条数.  
缓存重复查询的内容: 将重复查询的,改动不频繁的进行缓存.  

减少服务端扫描的行数:  
1.使用索引来覆盖查询(where条件后的过滤字段最好是索引字段)  

####　重构查询方式　　
1.切分查询  
    一个大查询如果执行一次的话,可能会锁住很多数据,占满整个事物日志,耗尽系统资源,阻塞很多小且重要的查询  
    需要使用 DELEFT 进行切分查询.  

2.分解关联查询  
   将一个大的查询(JOIN) 分解成对每一张表进行一次单表查询,然后将结果在应用程序中进行关联:  
   好处如下:  
    缓存高效:  
    减少锁竞争:   
    在应用层进行连接,可以更容易对数据库进行拆分:  
    提高本身查询的效率:  

3.SQL 语句细节  
    1.多张表没有关系,数据最少的表放在最后
    2.多张表存在关系,引用最多的放在最后
    3.Where条件中表之间的联系必须放在最左边,可以过滤掉大量数据的条件必须写在 Where 条件子句的右边  
    4.避免使用*号
    5.使用 TRUNCATE 代替 DELETE
    6.表名列名不用太长  
    7.SQL 语句关键字 大写

### 结构优化  
这里的比喻可以理解成对仓库存储单元的的结构,根据餐厅的实际情况进行优化.  
    1.数据类型优化
        更小的通常更好
        简单就行
        尽量避免NUll
    2.范式(减少冗余列)和反范式优化(增加冗余列,避免关联查询)
       反范式的缺点:冗余列变多,空间增大,写性能下降
        检索索引的时候, DISTINCT GROUP BY 的性能下降
    3.索引优化
    4.分库分表  
### 配置优化    
这里可以比喻成对仓库人员配备上进行优化.     
1.增大连接数  
2.过期时间  
### 硬件优化  
这里可以比喻成对整个仓库进行规模扩大,花更多的钱招更优秀的库管.